/*!CK:3436334962!*//*1438570712,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["jfnUI"]); }

__d("XPubcontentRelatedVideoInlineController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/pubcontent\/related_video_inline\/",{fbvideo_id:{type:"Int",required:true},query_id:{type:"String",required:true},mf_story_key:{type:"String",required:true},root_video_id:{type:"Int"}});},null);
__d("EntstreamAttachmentRelatedFBVideo",["Arbiter","AsyncRequest","AttachmentRelatedShareConstants","csx","cx","CSS","DOM","DOMQuery","Event","ge","Parent","VideoPlayerReason","XPubcontentRelatedVideoInlineController"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){b.__markCompiled&&b.__markCompiled();var t={addHoverListener:function(u,v){var w=p(v),x=m.scry(w,"^div._3f-c")[0];o.listen(x,'mouseover',this.doHover.bind(this,u));o.listen(x,'mouseout',this.doHoverOut.bind(this,u));},addClickOutListener:function(u,v){var w=p(v);o.listen(w,'click',this.doHoverOut.bind(this,u));},doHover:function(u){u.play(r.USER);u.mute();},doHoverOut:function(u,v){u.pause(r.USER);},loadRelatedLSCInlineFBVideoAttachmentInRelatedCard:function(u,v,w,x,y,z,aa,ba){var ca=null;if(typeof v==='string'){ca=p(v);}else ca=v;if(!ca)return;var da=null;if(typeof u==='string'){da=p(u);}else da=u;if(!da)return;o.listen(da,'click',function(event){var ea=event.srcElement?event.srcElement:event.target;if(ea)for(var fa in z){var ga=p(z[fa]);if(ga&&n.contains(ga,ea))return;}if(event.isDefaultRequested())return;event.preventDefault();var ha=null;if(y){var ia=m.scry(ca,"^ul._5h5a")[0];if(!ia)return;ha=ia.previousSibling;}else ha=da.children[0];setTimeout(function(){var ja=s.getURIBuilder();ja.setInt('fbvideo_id',w);ja.setString('query_id',aa);ja.setString('mf_story_key',ba);new h().setURI(ja.getURI()).setRelativeTo(ha).send();},1000);});},loadRelatedLSCInlineFBVideoAttachment:function(u,v,w,x,y){var z=null;if(!z)return;o.listen(z,'click',function(event){if(event.isDefaultRequested())return;event.preventDefault();var aa="^div._4-u2",ba="_4zdu",ca=m.scry(z,aa),da=ca.length===1?ca[0]:null,ea=da.parentNode,fa=ea.previousSibling;while(!fa){ea=ea.parentNode;fa=ea.previousSibling;}if(!l.hasClass(fa,ba)){var ga=m.create('div',{className:ba}),ha=m.insertBefore(da.parentNode,ga),ia=ha.length>=1?ha[0]:null;}else ia=fa;if(ia.childNodes[0])l.hide(ia.childNodes[0]);var ja="div._4icy",ka=m.scry(ea,ja)[0];if(ka){var la="_4icx";l.setClass(ka,la);}setTimeout(function(){var ma=s.getURIBuilder();ma.setInt('fbvideo_id',v);ma.setString('query_id',x);ma.setString('mf_story_key',y);new h().setURI(ma.getURI()).setRelativeTo(ia).send();if(w)g.inform(i.FBVIDEO_CLICK,{attachment:z,fbvideo_id:v,continued_chaining:true});if(ka)if(w){m.remove(ka);}else l.setClass(ka,"_4icy");},1000);});},loadRelatedFBVideos:function(u,v){var w=p(u);if(!w)return;var x="_4zdu",y=q.byClass(w,x);if(y)return;var z=o.listen(w,'click',function(){z.remove();g.inform(i.FBVIDEO_CLICK,{attachment:w,fbvideo_id:v});});}};e.exports=t;},null);
__d("getLayoutRoot",["DOMQuery","csx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=null;function j(){if(!i)i=g.scry(document.body,"._li")[0];return i;}e.exports=j;},null);
__d("Spotlight",["Arbiter","ArbiterMixin","DOM","JSXDOM","Layer","LayerAutoFocus","LayerTabIsolation","ModalLayer","Vector","classWithMixins","csx","cx","joinClasses","mixin"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){b.__markCompiled&&b.__markCompiled();var u=p(k,t(h));for(var v in u)if(u.hasOwnProperty(v))x[v]=u[v];var w=u===null?null:u.prototype;x.prototype=Object.create(w);x.prototype.constructor=x;x.__superConstructor__=u;function x(z,aa){"use strict";u.call(this,z,aa);this.stageMinSize=new o(0,0);this.stagePadding=new o(0,0);}x.prototype._buildWrapper=function(z,aa){"use strict";var ba=s("_n8 _3qx",z.rootClassName);return (j.div({className:ba},j.div({className:"_n9"},aa)));};x.prototype._getDefaultBehaviors=function(){"use strict";return w._getDefaultBehaviors.call(this).concat([y,l,m,n]);};x.prototype.getContentRoot=function(){"use strict";if(!this._content)this._content=i.find(this.getRoot(),"div._n3");return this._content;};x.prototype.configure=function(z){"use strict";if(z.stageMinSize)this.stageMinSize=z.stageMinSize;if(z.stagePadding)this.stagePadding=z.stagePadding;};x.prototype.onContentLoaded=function(){"use strict";this.inform('content-load');};x.prototype.updatePermalink=function(z){"use strict";this.inform('permalinkchange',z);};Object.assign(x.prototype,{stageMinSize:null,stagePadding:null});function y(z){"use strict";this._layer=z;}y.prototype.enable=function(){"use strict";this._subscription=this._layer.subscribe(['show','hide'],function(z,aa){if(z==='show'){g.inform('layer_shown',{type:'Spotlight'});}else g.inform('layer_hidden',{type:'Spotlight'});});};y.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null;};Object.assign(y.prototype,{_subscription:null});e.exports=x;},null);